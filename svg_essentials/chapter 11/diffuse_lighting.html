<!--              Author: Richard Myatt
                  Date: 26 November 2018

                  An example of the use of the feDiffuseLighting filter based
                  on an example from chapter 11 of 'SVG Essentials' by J.
                  David Eisenberg.
-->

<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="stylesheet" href="css/diffuse_lighting.css">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>SVG - diffuse lighting demo</title>
</head>
<body>

  <h1>SVG - diffuse lighting demo</h1>

  <svg width="300" height="300" viewBox="0 0 100 100"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:xlink="http://www.w3.org/1999/xlink">
   <title>SVG - diffuse lighting demo</title>

   <defs>

     <filter id="diff-light" color-interpolation-filters="sRGB">
       <feImage xlink:href="svg/pattern02.svg" result="tile"
         width="20" height="20" />
       <feTile in="tile" result="tile" />

       <feDiffuseLighting	in="tile"
					lighting-color="#00ff00"
					surfaceScale="1"
					diffuseConstant="0.9"
					result="diffuseOutput">
					<fePointLight	x="150"	y="-50"	z="100"/>
				</feDiffuseLighting>

        <feComposite in="diffuseOutput" in2="SourceGraphic" operator="in" />


     </filter>
   </defs>

   <!-- provide a white background for our demo -->
   <!--<rect x="0" y="0" width="100%" height="100%"
     style="fill: #fff; stroke: none;" />-->

   <circle	id="green-light"	cx="50"	cy="50"	r="50"
		 style="fill:	#060; filter: url(#diff-light)" />

 </svg>

</body>
</html>
